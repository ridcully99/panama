22.09.2011

23.09.2011
- PathOverlay fertig

24.09.2011
- Stoppuhr via AsyncTask

25.09.2011
- Tacho via AsynTask:
	- akt. Geschwindigkeit berechnen
	- über parallelen Thread der einfach z.B. alle n Sekunden die pathLength abfragt, die vorige gemerkt hat und dann die Differenz
	in n Sekunden auf km/h umrechnet --> brauch ich mir keine Knoten/Zeiten merken und erkennt auch 0 km/h wenn ich mich nicht bewege.
- akt. Pos als Pfeilchen in Bewegungsrichtung oder Kreis wenn keine Bewegung  

26.9.2011
- Tacho auf 1 Sekunde reduziert --> TESTEN
- Alle möglichen Buttons in LinearLayout; via visibility = visible | gone die passenden anzeigen
- "Trackster"?
- Discard implementiert

28.9.2011
- Discard fertig gemacht
- min_distance auf 5m
- paceTask geandert, geht aber nicht richtig

29.9.2011
- Pfadlängenberechung ganz ins MainActivity getan - gab schon Doppelungen mit dem Merken der prevPosition...  
- Geschwindigkeitsberechnung (paceTask) überarbeitet - merken der letzten Werte und Durchschnitt errechnen und anzeigen
- mSessionState statt mIsRunning um auch Pause-Status handhaben zu können
- Tabbed Layout begonnen

30.9.2011
> immer alle n Sekunden tracken, Distanz selbst auswerten --> sonst krieg ich während IDLE keine aktuellen Positionen
+ GPS nicht voraussetzen, dafür immer mit Kreis die Genauigkeit anzeigen
> Layout wieder ändern: Für Session Werte/Map auf 2 Views flippable haben (ViewFlipper Widget, Buttons bleiben fix), andere Sachen über Menü und eigene Activities 
+ CurrentLocation aus PathOverlay rausnehmen und eigenes Overlay dafür machen (dann kann ich auch das Blinken usw. besser handhaben)

1.10.2011
+ Position und Distanzberechnung gefixt und (hoffentlich) stabil gemacht
+ Save und Load als JSON File implementiert (2.10. --> zu langsam beim Speichern, besser DB nehmen)

2.10.2011
+ WakeLock um Standby während des Laufens zu verhindern
+ Styles begonnen für Buttons etc.
+ Layout Rework -- geht gut

3.10.2001
+ Datenbank
+ Save
+ Load (mit rudimentärer Auswahlliste)

4.10.2011
+ FIXED BUG: irgendwo wird mPositions neu gesetzt statt nur die Inhalte zu tauschen dadurch kriegt das PathOverlay die neuen Werte nicht mit.
+ sinnvolle Distanz vergrößert, muss größer sein als die Accuracy von Current- und neuer Location

5.10.2011
+ Auf Service umgestellt fürs Tracking/Recording

6.10.2011...
+ auf 2.1 umgestellt (Version 7)

7.10.2011
+ ganz viel herumgebaut, schaut jetzt vom Ablauf schon ganz gut aus, Layout ist noch immer unklar...
+ Foreground Service + Notification

8.10.2011
+ custom font (ev. noch anderen suchen)
+ current pace überarbeitet
+ avg.pace begonnen
+ vibrieren...

10.10.2011
+ Layout mit RelativeLayout verschönert

11.10.2011
+ Activities mit launchMode="singleTask", sonst hatte ich wieder den Effekt das u.U. Activities mehrfach gestartet werden 
+ Sessionliste formatiert darstellen

13.10.2011
+ Laden funktioniert wieder.
+ nach dem Laden die Map so einrichten (zentrieren/zoomen) dass die gesamte Strecke sichtbar ist.

14.10.2011
+ Animation für Map ein/ausblenden

15.10.2011
+ Animationsflaw bei erstem einblenden gefixt (setZOrderAdjustment)
+ Texte/Formatierung optimiert (Wochentag bei Liste gespeicherter Sessions)
+ NaN bei Average Pace gefixt

16.10.2011
+ Kalorienberechnung 
  (nach ACSM, einfach beschrieben auf http://www.livestrong.com/article/34973-calculate-treadmill-calories/)
  die Beschreibung dort ist aber nicht ganz richtig. Step 5 ist falsch; meiner Meinung (und gemäß ACSM Dokument) nach
  sollte der Oxygenwert / 1000 gerechnet werden (weil da die Fomel für Liter statt ml ist) und mit 4.9 multipliziert werden um die kcal/min zu erhalten.
  Dann noch mit dem Gewicht und der Zeit multiplizieren.
  Und: 3.5 ist für Männer, 3.2 für Frauen. Alterseinfluss hab ich keinen gesehen

17.10.2011
+ Vibration eingebaut wenn Start möglich
+ Nach Start und bei geladenen Sessions im Header Startdatum/zeit anzeigen
+ isOKforStart überarbeitet - Alter nicht mehr berücksichtigen, nur Flag ob mService nach strartTracking schon eine neue Position bekommen hat. Damit gehts auch mit dem Xperia Handy.

19.10.2011
+ Statt Cancel-Button auf Back-Button reagieren für Cancel-Wunsch

20.10.2011
+ Settings gemacht (incl. Anzeigen der jeweils aktuellen Einstellung ... umständlich)
+ Settingswerte für Kalorienberechnung verwenden

NEXT: Marker für Start und Ziel, Kilometer/Meilen (optional) ... mit Infos auf Tap bzgl. Zeit/Distanz ...

TODO: während Suche nach better fix irgendwie was anzeigen bzgl. genauigkeit (auch in nummernansicht)
      und Start prinzipiell erlauben sobald ich eine zeitlich aktuelle Position habe ... je länger man dann wartet, desto genauer wird sie halt.
      --> statt Progress-Dialog vielleicht dann auch was anderes machen
      
TODO: mal echten Map API Key generieren und einbauen      
      
TODO: GPS Stärke anzeigen in Titelzeile

TODO: Sessionliste -- Context-Menü wenn lang gedrückt - Löschen|Laden|Export|??

TODO: Für den Fall das Activity tot ist müsste ich bei onCreate ode wo schau'n ob mService.isRunning und dann gleich die Buttons umschalten und
      onLocationChanged(mService.currentLocation) aufrufen zum Bildaufbau.
      Wie Testen? Testweise finishActivity via Menüoption triggerbar machen.

TODO: Pause, Resume implementieren

TODO: Für gespeicherte Sessions statt den Buttons unten einen Schieberegler zum Durchscrollen der Route
	(Sobald das Speichern einer Session fertig ist, auch diesen Schieberegler anzeigen, statt wie bisher das Save zu disablen)
	Dafür dann 2 PathOverlays machen (ev. einmal erben oder sowas):
	- einer der ganze Strecke in gedämpfter Farbe zeigt, und
	- einer der Strecke von Start bis akt. Markerposition stark färbig zeigt.
	Zeichnen: zuerst den ganzen gedämpften, darüber den teilweisen (gleiche Positions, einfach abbrechen an entsprechender Stelle) 

TODO: Speichern mit Kommentar, Typ (Laufen, Radln, Wandern, ...), Route (Auswahl aus bereits eingegebenen, oder neuen Namen eingeben)

TODO: wenn geht (oder als Option) die Karte drehen sodass Pfeil immer "nach oben" zeigt, i.e. in Laufrichtung.

TODO: Export in Standardformaten (GPX?) via Share oder so?

TODO: Texte aus strings.xml / I18n / L10n

TODO: Optionen: 
		- Umschalten zw. km und Meilen (auch für UnitLabels (km/h, mph) verwenden) -- Berechnungen immer metrisch, erst für Anzeige ggf. umrechnen!
		- Gewicht, Geschlecht für Kalorienberechnung
		- Automatische Marker alle Kilometer/Meilen?
		
		
MAYBE: current pace rot oder grün, wenn über oder unter'm durchschnitt oder Pfeilchen rauf, Pfeilchen runter (optisch vielleicht ruhiger)

